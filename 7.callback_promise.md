# Callbacks vs Promises vs Async/Await in JavaScript

---

## 🏗️ Callback Example

```js
function getUser(id, callback) {
  setTimeout(() => {
    if (!id) return callback("User ID is required");
    callback(null, { id, name: "Warun" });
  }, 500);
}

function getOrders(user, callback) {
  setTimeout(() => {
    if (!user) return callback("User not found");
    callback(null, [{ orderId: 101 }, { orderId: 102 }]);
  }, 500);
}

function getShippingStatus(order, callback) {
  setTimeout(() => {
    if (!order) return callback("Order not found");
    callback(null, { orderId: order.orderId, status: "Shipped" });
  }, 500);
}

// Nested callbacks with error handling
getUser(1, (err, user) => {
  if (err) return console.error("Error in getUser:", err);

  console.log("User:", user);

  getOrders(user, (err, orders) => {
    if (err) return console.error("Error in getOrders:", err);

    console.log("Orders:", orders);

    getShippingStatus(orders[0], (err, status) => {
      if (err) return console.error("Error in getShippingStatus:", err);

      console.log("Shipping Status:", status);
    });
  });
});
```

---

## 📦 Promise Example

```js
function getUser(id) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (!id) return reject("User ID is required");
      resolve({ id, name: "Warun" });
    }, 500);
  });
}

function getOrders(user) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (!user) return reject("User not found");
      resolve([{ orderId: 101 }, { orderId: 102 }]);
    }, 500);
  });
}

function getShippingStatus(order) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (!order) return reject("Order not found");
      resolve({ orderId: order.orderId, status: "Shipped" });
    }, 500);
  });
}

// Promise chaining
getUser(1)
  .then((user) => {
    console.log("User:", user);
    return getOrders(user);
  })
  .then((orders) => {
    console.log("Orders:", orders);
    return getShippingStatus(orders[0]);
  })
  .then((status) => {
    console.log("Shipping Status:", status);
  })
  .catch((err) => {
    console.error("❌ Error:", err);
  });
```

---

## 🚀 Async/Await Example

```js
(async function () {
  let user, orders, shippingStatus;

  try {
    user = await getUser(1);
    console.log("User:", user);
  } catch (err) {
    console.error("getUser failed:", err);
    return;
  }

  try {
    orders = await getOrders(user);
    console.log("Orders:", orders);
  } catch (err) {
    console.error("getOrders failed:", err);
    return;
  }

  try {
    shippingStatus = await getShippingStatus(orders[0]);
    console.log("Shipping Status:", shippingStatus);
  } catch (err) {
    console.error("getShippingStatus failed:", err);
    return;
  }
})();
```

---

## 📝 Summary

- **Callback:** Simple, but leads to "callback hell" with nested logic.
- **Promise:** Cleaner chaining, built-in error handling.
- **Async/Await:** Synchronous-like code, best for readability